\PassOptionsToPackage{unicode=true}{hyperref} % options for packages loaded elsewhere
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames*,x11names*}{xcolor}
%
\documentclass[11pt,]{book}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provides euro and other symbols
\else % if luatex or xelatex
  \usepackage{unicode-math}
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
    \setmainfont[]{Palatino}
    \setmonofont[Mapping=tex-ansi,Scale=0.8]{Source Code Pro}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage[]{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\usepackage{xcolor}
\usepackage{hyperref}
\hypersetup{
            pdftitle={Analizando datos, visualizando informaci칩n, contando historias},
            pdfauthor={Javier 츼lvarez Li칠bana, Gabriel Valverde Castilla, Borja Andrino, Victria Oliveres, Dominic Roy칠},
            colorlinks=true,
            linkcolor=Maroon,
            filecolor=Maroon,
            citecolor=Blue,
            urlcolor=Blue,
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.33,0.33,0.33}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.61,0.61,0.61}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.06,0.06,0.06}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.5,0.5,0.5}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0,0,0}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.27,0.27,0.27}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.27,0.27,0.27}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.06,0.06,0.06}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.14,0.14,0.14}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.06,0.06,0.06}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0,0,0}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.27,0.27,0.27}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.43,0.43,0.43}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0,0,0}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.5,0.5,0.5}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.5,0.5,0.5}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0,0,0}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.5,0.5,0.5}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs}
% Fix footnotes in tables (requires footnote package)
\IfFileExists{footnote.sty}{\usepackage{footnote}\makesavenoteenv{longtable}}{}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

% set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother

\usepackage{booktabs}
\usepackage{setspace}\doublespacing
\usepackage{float}
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{amsmath}
\usepackage{multicol}
\usepackage{threeparttable}
\usepackage{caption}
\usepackage[]{natbib}
\bibliographystyle{apalike}

\title{Analizando datos, visualizando informaci칩n, contando historias}
\author{Javier 츼lvarez Li칠bana, Gabriel Valverde Castilla, Borja Andrino, Victria Oliveres, Dominic Roy칠}
\date{칔ltima actualizaci칩n: 27-12-2021}

\begin{document}
\maketitle

{
\hypersetup{linkcolor=}
\setcounter{tocdepth}{3}
\tableofcontents
}
\listoftables
\listoffigures
\hypertarget{prefacio}{%
\chapter*{Prefacio}\label{prefacio}}


Este \textbf{material} ha sido dise침ado como complemento y recursos de apoyo al curso de la \href{https://www.ucm.es/eci//cursoecic02-pre}{Escuela de Invierno de la UCM} titulado \textbf{춺Analizando datos, visualizando informaci칩n, contando historias췉}, celebrado presencialmente del 31 de enero al 4 de febrero de 2022 (16:00 a 21:00 horas, de lunes a viernes).

El presente material introductorio ha sido elaborado por \href{https://dadosdelaplace.github.io}{Javier 츼lvarez Li칠bana} y Gabriel Valverde Castilla, y tiene como objetivo introducir en el lenguaje \texttt{R} a todas aquellas personas que quieran \textbf{aprender \texttt{R} desde cero}. Dicho manual ha sido elaborado a su vez en \texttt{R} con \href{https://github.com/rstudio/bookdown}{\{bookdown\}}. Puedes ver un resumen de las funcionalidades de algunos paquetes documentados por el equipo de \href{https://www.rstudio.com/}{R Studio} en sus \href{https://www.rstudio.com/resources/cheatsheets/}{esquemas resumen}. El \textbf{c칩digo} de dicho manual se encuentra en \href{https://github.com/dadosdelaplace/courses-ECI-2022}{GitHub}.

~

Para \textbf{elaborar informes o libros} con una estructura similar (de forma nativa en \texttt{R}) el paquete \texttt{\{bookdown\}} puede ser instalado desde la plataforma CRAN o desde su versi칩n en desarrollo actualizada en Github:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{install.packages}\NormalTok{(}\StringTok{"bookdown"}\NormalTok{)}
\CommentTok{# o desde su versi칩n en desarrollo actualizada}
\CommentTok{# devtools::install_github("rstudio/bookdown")}
\end{Highlighting}
\end{Shaded}

\hypertarget{propuxf3sito}{%
\section*{Prop칩sito}\label{propuxf3sito}}


El \textbf{objetivo} de este curso es introducir a la programaci칩n y an치lisis estad칤stico en \texttt{R} a toda aquella persona que nunca se haya iniciado en 칠l, \textbf{sin necesitar conocimientos previos} de programaci칩n (aunque siempre ayuda, obviamente). No se pretende que adquieras un vasto y experto conocimiento de \texttt{R}, pero si lo suficiente como para lograr \textbf{5 objetivos}:

\begin{itemize}
\tightlist
\item
  \textbf{No tener miedo} a programar
\item
  Entender los \textbf{conceptos b치sicos de \texttt{R}}.
\item
  Dotarte de \textbf{autonom칤a} para poder trabajar con datos.
\item
  Introducirte en el \textbf{an치lisis estad칤stico}.
\item
  Adquirir las \textbf{competencias necesarias para la visualizaci칩n de datos} en \texttt{R}.
\end{itemize}

\hypertarget{contenidos}{%
\section*{Contenidos}\label{contenidos}}


\begin{itemize}
\item
  \ref{requisitos} \protect\hyperlink{requisitos}{Requisitos}
\item
  \ref{instalacion} \protect\hyperlink{instalacion}{Instalaci칩n de R y Rstudio}
\item
  \ref{que-es-R} \protect\hyperlink{que-es-R}{쯈u칠 es R?}
\item
  \ref{primeros-pasos} \protect\hyperlink{primeros-pasos}{Primeros pasos}
\item
  \ref{tipos-datos} \protect\hyperlink{tipos-datos}{Tipos de datos}
\item
  \ref{vectores} \protect\hyperlink{vectores}{Vectores}
\end{itemize}

\hypertarget{cuxf3digo-de-colores}{%
\section*{C칩digo de colores}\label{cuxf3digo-de-colores}}


Puedes buscar los siguientes t칠rminos en el \textbf{buscador del documento}

\textbf{\textcolor{#dc3545}{ERROR:}}

En \textbf{\textcolor{#dc3545}{color rojo}} encontrar치s \textbf{\textcolor{#dc3545}{errores comunes}} o pr치cticas a evitar.

\textbf{\textcolor{#ffc107}{WARNING:}}

En \textbf{\textcolor{#ffc107}{color naranja/amarillo}} encontrar치s \textbf{\textcolor{#ffc107}{warnings o advertencias}} sobre cosas a tener en cuenta para evitar problemas.

Algunas funciones pueden arrojar ciertas advertencias que nunca est치 de m치s leer. Pero si dichos mensajes de alerta los tenemos controlados, y no queremos que nos ensucie la ejecuci칩n en la consola, podemos poner al inicio del c칩digo \texttt{assign("last.warning",\ NULL,\ envir\ =\ baseenv())} para limpiar los warnings antiguos y \texttt{options(warn\ =\ -1)} para desactivarlos.

\textbf{\textcolor{#20935E}{CONSEJO:}}

En \textbf{\textcolor{#20935E}{color verde}} encontrar치s \textbf{\textcolor{#20935E}{consejos o tips}} para ampliar y facilitar tu programaci칩n. Adem치s en cada \textbf{cajita de c칩digo}, si pasas el rat칩n, encontrar치s un bot칩n 游늯游늯 en la esquina superior derecha de la caja para copiar el c칩digo directamente a tu consola. \textbf{Puedes encontrarlos todos escribiendo 춺consejo췉 en el buscador}.

\textbf{\textcolor{#4197D2}{GLOSARIO:}}

En \textbf{\textcolor{#4197D2}{color azul}} encontrar치s un 游닄 \textbf{\textcolor{#4197D2}{glosario}} con algunos t칠rminos estad칤sticos y conceptos b치sicos.

\hypertarget{licencia}{%
\section*{Licencia}\label{licencia}}


\href{https://www.gnu.org/licenses/gpl-3.0}{\includegraphics{img/license-GPLv3-blue.png}}

Este documento es publicado bajo \textbf{licencia p칰blica general GNU}, una licencia libre de copyleft que garantiza a los usuarios finales (personas, organizaciones, compa침칤as) la \textbf{libertad de usar, estudiar, compartir (copiar) y modificar el software, citando adecuadamente al autor del mismo}.

\hypertarget{part-toma-de-contacto}{%
\part{Toma de contacto}\label{part-toma-de-contacto}}

\hypertarget{requisitos}{%
\chapter{Requisitos}\label{requisitos}}

\begin{itemize}
\item
  \textbf{Conexi칩n a internet} (para la descarga de algunos datos y paquetes).
\item
  \textbf{Instalar R} (ver \ref{instalacionR}). \textbf{\texttt{R} ser치 nuestro lenguaje}, nuestro diccionario, nuestro castellano, nuestra ortograf칤a para poder 춺comunicarnos췉 con el ordenador. \url{https://cran.r-project.org/}
\item
  \textbf{Instalar \texttt{R\ Studio}} (ver \ref{instalacionRStudio}). De la misma manera que podemos escribir el mismo texto en castellano en una tablet, en un ordenador, en un Word, en un papel o en un tuit, en programaci칩n podemos usar distintos \textbf{IDE (entornos de desarrollo integrados, nuestro Office)}, para que el trabajo sea m치s c칩modo. Nosotros trabajaremos con \texttt{RStudio}.
\end{itemize}

Todo lo necesario para seguir este curso es de \textbf{descarga gratuita}: viva el software libre.

\hypertarget{instalacion}{%
\chapter{Instalaci칩n}\label{instalacion}}

En breve daremos nuestros primeros pasos en \texttt{R} pero antes necesitamos instalar algunas cosas. No vamos a necesitar tantas, y para entender lo que instalamos pensaremos que vamos a escribir un libro. \textbf{쯈u칠 necesitamos?}

\begin{itemize}
\tightlist
\item
  \textbf{Gram치tica/ortograf칤a}: en nuestro caso ser치 \texttt{R}, el lenguaje de programaci칩n que usaremos.
\item
  \textbf{Word}: al igual que podemos escribir en castellano de distintas maneras (en un Word, un post-it, un cuaderno, etc), cuando programamos podemos trabajar en distintos \textbf{entornos de desarrollo (IDE)}. En nuestro caso escribiremos y programaremos en \texttt{RStudio}, el programa que ser치 nuestro \textbf{Word} para escribir en lenguaje \texttt{R}.
\end{itemize}

\hypertarget{instalacionR}{%
\section{Instalaci칩n de R}\label{instalacionR}}

Vamos a necesitar \textbf{solo 3 pasos (y conexi칩n a internet)}.

\begin{itemize}
\tightlist
\item
  \textbf{Paso 1}: entra en la web oficial de \texttt{R} \url{https://cran.r-project.org/}. En la pantalla de inicio \textbf{selecciona la instalaci칩n acorde a tu sistema operativo} (ver imagen \ref{fig:pantalla-cran})
\end{itemize}

\begin{figure}

{\centering \includegraphics[width=0.8\linewidth]{./img/pantalla1_cran} 

}

\caption{Pantalla inicial de la plataforma CRAN de R.}\label{fig:pantalla-cran}
\end{figure}

\begin{itemize}
\tightlist
\item
  \textbf{Paso 2}: para sistemas operativos \textbf{Mac} basta con que hacer click en el archivo \texttt{.pkg}, y abrirlo una vez descargado (ver imagen \ref{fig:pantalla-mac})
\end{itemize}

\begin{figure}

{\centering \includegraphics[width=0.9\linewidth]{./img/pantall_mac_cran} 

}

\caption{Pantalla de instalaci칩n de R en Mac OS.}\label{fig:pantalla-mac}
\end{figure}

Para sistemas operativos \textbf{Windows}, debemos clickar en \texttt{install\ R\ for\ the\ first\ time} (ver imagen \ref{fig:pantalla-windows-1}) y en la siguiente pantalla hacer click en \texttt{Download\ R\ for\ Windows} (ver imagen \ref{fig:pantalla-windows-2}). Una vez descargado, abrirlo como cualquier archivo de instalaci칩n.

\begin{figure}

{\centering \includegraphics[width=0.8\linewidth]{./img/pantalla_windows_1} 

}

\caption{Pantalla previa de instalaci칩n de R en Windows.}\label{fig:pantalla-windows-1}
\end{figure}

\begin{figure}

{\centering \includegraphics[width=0.9\linewidth]{./img/pantalla_windows_2} 

}

\caption{Pantalla final de instalaci칩n de R en Windows.}\label{fig:pantalla-windows-2}
\end{figure}

\begin{itemize}
\tightlist
\item
  \textbf{Paso 3}: tras su instalaci칩n tendr치s en tu escritorio (Windows) o en tu Launchpad (Mac Os) un \textbf{ejecutable de \texttt{R} para abrir}. En Windows puede que tengas dos ejecutables \texttt{i386} y \texttt{x64} (como todo programa en Windows, est치 la versi칩n de 32 y de 64 bits, haz click preferiblemente - si lo tienes - en el de \texttt{x64}). Te saldr치 algo parecido a lo que observas en la imagen \ref{fig:cranR}.
\end{itemize}

\begin{figure}

{\centering \includegraphics[width=0.75\linewidth]{./img/cranR} 

}

\caption{Primera pantalla al abrir el ejecutable de R.}\label{fig:cranR}
\end{figure}

\hypertarget{primera-operaciuxf3n-sumar-dos-nuxfameros}{%
\subsection{Primera operaci칩n: sumar dos n칰meros}\label{primera-operaciuxf3n-sumar-dos-nuxfameros}}

Para comprobar que est치 correctamente instalado, abre \texttt{R} y \textbf{prueba a escribir} en la pantalla blanca inferior el siguiente c칩digo (\textbf{recuerda}: los c칩digos de este manual puedes \textbf{copiarlos} directamente de la cajita \textbf{haciendo click en el bot칩n} de la esquina superior derecha)

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a <-}\StringTok{ }\DecValTok{1}
\NormalTok{b <-}\StringTok{ }\DecValTok{2}
\NormalTok{a }\OperatorTok{+}\StringTok{ }\NormalTok{b}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 3
\end{verbatim}

\begin{figure}

{\centering \includegraphics[width=0.9\linewidth]{./img/primera_suma} 

}

\caption{Primera suma en la consola de R.}\label{fig:primera-suma}
\end{figure}

\textbf{춰Enhorabuena!}

\begin{itemize}
\item
  \textbf{쮻칩nde hemos escrito ese c칩digo?} Esa pantalla blanca donde hemos escrito el c칩digo se llama \textbf{CONSOLA}, y ser치 donde ejecutaremos las 칩rdenes.
\item
  \textbf{쯈u칠 hemos hecho?} Hemos hecho m치s de lo que parece. Primero, hemos definido dos variables \texttt{a} y \texttt{b} \textbf{asign치ndole un valor num칠rico a cada una de ellas}. Imagina que el s칤mbolo \texttt{\textless{}-} es visto en nuestra cabeza como una flecha: a una variable que llamamos \texttt{a} le asignamos el valor \texttt{1}, a una variable que llamamos \texttt{b} le asignamos el valor \texttt{2}. Podemos verlo como \(a = 1,~b = 2\). Y tras definir dichas variables, las hemos usado en una \textbf{operaci칩n aritm칠tica} \texttt{a\ +\ b}. Ya sabemos usar \texttt{R} como \textbf{calculadora}.
\item
  \textbf{쮺칩mo nos devuelve \texttt{R} el resultado de la operaci칩n?} Si te ha devuelto el resultado correcta, en la consola debe aparecer \texttt{{[}1{]}\ 3}. El valor \texttt{{[}1{]}} aparecer치 siempre ya que simplemente nos \textbf{numera las l칤neas} de la consola usadas; lo que viene detr치s es realmente el resultado, es decir, \(a + b = 3\).
\item
  \textbf{쯇or qu칠 hemos escrito \texttt{a\ +\ b} al final?} Un mantra de \texttt{R}, que veremos a lo largo de todo el curso, es que \textbf{\texttt{R} intenta molestarte lo menos posible} (eso es bueno cuando ya sabes usarlo, no tan bueno cuando empezamos a aprenderlo). Cuando asignamos los valores \texttt{a\ \textless{}-\ 1} y \texttt{b\ \textless{}-\ 2}, \texttt{R} no nos muestra nada: si guardamos un resultado en una variable, no nos muestra nada por consola. Para obtener el resultado en la consola necesitamos escribir el nombre de las variables (u operaciones entre ellas, como \texttt{a\ +\ b}).
\end{itemize}

~

\textbf{\textcolor{#ffc107}{WARNING: }}

Como habr치s advertido, en \texttt{R} usaremos \texttt{\textless{}-} para \textbf{asignar valores} en lugar de \texttt{=}, como una flecha. Usaremos \texttt{=} para \textbf{\textcolor{#ffc107}{indicarle el valor a los argumentos que usemos en funciones}} y \texttt{==} como \textbf{\textcolor{#ffc107}{operador de comparaci칩n}}: si escribimos \texttt{2\ ==\ 3}, le estamos preguntando si 2 es igual a 3.

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{2} \OperatorTok{==}\StringTok{ }\DecValTok{3}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] FALSE
\end{verbatim}

~

Bonita esta interfaz no es, as칤 que la cerraremos y no la abriremos m치s. Tenemos nuestro lenguaje instalado, vamos a \textbf{instalar nuestro Word} para poder programar de forma c칩moda.

\hypertarget{instalacionRStudio}{%
\section{Instalaci칩n de R Studio}\label{instalacionRStudio}}

Para instalar \texttt{RStudio} deberemos ir a la web \url{https://www.rstudio.com/products/rstudio/download/\#download} (el gratuito) y seleccionar el ejecutable que te aparezca acorde a tu sistema operativo (ver imagen \ref{fig:pantalla-rstudio}). Tras descargar el ejecutable, hay que abrirlo como otro cualquier otro ejecutable y dejar que termine la instalaci칩n.

\begin{figure}

{\centering \includegraphics[width=0.7\linewidth]{./img/pantalla_rstudio} 

}

\caption{Descargar el ejecutable de RStudio para su posterior instalaci칩n.}\label{fig:pantalla-rstudio}
\end{figure}

Tras instalar tendremos en el escritorio o Launchpad un ejecutable de \texttt{RStudio} que abriremos. Se nos aparecer치 una pantalla similar a esta:

\begin{figure}

{\centering \includegraphics[width=0.85\linewidth]{./img/inicio_rstudio_1} 

}

\caption{Primer recibimiento de nuestro mejor amigo RStudio.}\label{fig:inicio-rstudio-1}
\end{figure}

Listo, tienes \textbf{instalado (casi) todo} correctamente.

\hypertarget{glosario}{%
\section{Glosario}\label{glosario}}

\textbf{\textcolor{#4197D2}{GLOSARIO}}

\begin{itemize}
\tightlist
\item
  \textbf{\textcolor{#4197D2}{Consola}}: es el nombre para llamar a esa ventana grande que te ocupa buena parte de tu pantalla. Prueba a escribir el mismo c칩digo que antes en ella (es el equivalente a la consola de R que hemos abierto al principio).
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a <-}\StringTok{ }\DecValTok{1}
\NormalTok{b <-}\StringTok{ }\DecValTok{2}
\NormalTok{a }\OperatorTok{+}\StringTok{ }\NormalTok{b}
\end{Highlighting}
\end{Shaded}

\begin{figure}

{\centering \includegraphics[width=0.6\linewidth]{./img/inicio_rstudio_2} 

}

\caption{Lanzando a consola nuestras primeras 칩rdenes en RStudio.}\label{fig:inicio-rstudio-2}
\end{figure}

\textbf{\textcolor{#4197D2}{La consola ser치 donde ejecutaremos 칩rdenes y mostraremos resultados}}

\begin{itemize}
\tightlist
\item
  \textbf{\textcolor{#4197D2}{Environment (entorno)}}: la pantalla peque침a (puedes ajustar los m치rgenes con el rat칩n a tu gusto) que tenemos en la parte superior derecha se denomina environment o entorno de variables, donde como puedes ver, tras ejecutar el peque침o c칩digo en la consola, nos informa de que tenemos dos variables num칠ricas y su valor asignado. Nos \textbf{mostrar치 las variables que tenemos definidas, el tipo y su valor}.
\end{itemize}

\begin{figure}

{\centering \includegraphics[width=0.65\linewidth]{./img/inicio_rstudio_3} 

}

\caption{Environment de variables.}\label{fig:inicio-rstudio-3}
\end{figure}

\begin{itemize}
\tightlist
\item
  \textbf{\textcolor{#4197D2}{Panel multiusos}}: la ventana que tenemos en la parte inferior derecha no servir치 para buscar ayuda de comandos y 칩rdenes, adem치s de para visualizar gr치ficos. Lo veremos cuando sea necesario.
\end{itemize}

\begin{figure}

{\centering \includegraphics[width=0.65\linewidth]{./img/inicio_rstudio_4} 

}

\caption{Panel multiusos.}\label{fig:inicio-rstudio-4}
\end{figure}

\hypertarget{consejos}{%
\section{Consejos}\label{consejos}}

\textbf{\textcolor{#20935E}{CONSEJOS}}

\textbf{\textcolor{#20935E}{쮺칩mo saber cuando la orden lanzada en consola ha terminado?}}

A veces \texttt{R} y \texttt{RStudio} son tan silenciosos que no sabemos si ha acabado la orden que acabamos de lanzar en la consola o no. Siempre que veas el s칤mbolo \texttt{\textgreater{}} como 칰ltima l칤nea en la consola significa que est치 listo para que le escribamos otra orden (es la forma cari침osa de decirte que ya ha acabado, ver imagen \ref{fig:tip-consola-lista})

\begin{figure}

{\centering \includegraphics[width=0.7\linewidth]{./img/tip_consola_lista} 

}

\caption{Ejemplo de que la orden lanzada ha acabado.}\label{fig:tip-consola-lista}
\end{figure}

~

\textbf{\textcolor{#20935E}{쮺칩mo prevenir la fatiga programando?}}

Estando delante de una pantalla de ordenador, con la vista muy fija mientras se programa, puede que acabes teniendo cierta fatiga visual en el trabajo. Te aconsejo que cambies en tu \texttt{RStudio} la tonalidad del fondo de tu programa, en tonos oscuros y no blancos (쯦e has fijado que mis capturas tienen un azul cobalto oscuro de fondo mientras el tuyo es un \textbf{blanco nuclear}? Echa un vistazo a las im치genes \ref{fig:menu-1} y \ref{fig:menu-2})

\begin{figure}

{\centering \includegraphics[width=0.5\linewidth,height=0.5\textheight]{./img/menu_1} 

}

\caption{Men칰 de opciones de nuestro editor}\label{fig:menu-1}
\end{figure}

\begin{figure}

{\centering \includegraphics[width=0.5\linewidth,height=0.5\textheight]{./img/menu_2} 

}

\caption{Personalizar el color de fondo de nuestro editor, la letra y el tama침o de fuente}\label{fig:menu-2}
\end{figure}

\hypertarget{que-es-R}{%
\chapter{쯈u칠 es R?}\label{que-es-R}}

Una vez que tenemos todo instalado vamos a dar nuestros \textbf{primeros pasos} en \texttt{R}, pero antes veamos un poco de su historia y de una particularidad: \texttt{R} es un \textbf{lenguaje modular} (쯠odu\ldots{}qu칠?)

\hypertarget{historia-de-r}{%
\section{Historia de R}\label{historia-de-r}}

Veamos antes un poco de la \textbf{historia} de nuestra deidad.

All치 por 1975, los \textbf{laboratorios Bell} (los que inventaron la radio moderna tal y como la conocemos), necesitaban una alternativa a los lenguajes m치s 춺rudos췉 y antiguos como \texttt{C++} o \texttt{Fortran}, lenguajes r치pidos en la ejecuci칩n pero complejos en su uso, con una gran curva de aprendizaje y con \textbf{muy poca capacidad en la visualizaci칩n de datos} que se empezaba a necesitar.

As칤 que en \textbf{1976 sacaron la primera versi칩n del lenguaje conocido \texttt{S}} (hasta entonces estaba de moda lo de llamar a los lenguajes con una sola inicial). En \textbf{1980} se empez칩 a distribuir la primera versi칩n p칰blica de \texttt{S}, m치s all치 de los laboratorios Bell, y en \textbf{1988} se a침adieron bastantes funcionalidades nuevas como poder aplicar funciones a otras funciones (los famosos \texttt{apply()} que ya veremos). A침os m치s tarde, en \textbf{1991}, dicho lenguaje se simplific칩, reescribiendo muchas subrutinas de otros lenguajes m치s primitivos, para tener una versi칩n muy parecida al actual \texttt{R}, permitiendo el usod de operadores, \texttt{data.frames} (que veremos) y otro tipo de objetos, sencillos en la programaci칩n pero muy versatiles.

Sin embargo, salvo uso docente, \texttt{S} ten칤a licencia as칤 que \textbf{en 1992 Ross Ihaka y Robert Gentleman se lanzaron a crear una versi칩n de \texttt{S} libre y gratuita}, un trabajo de casi 8 a침os hasta que en el a침o 2000, ambos investigadores de la Universidad de Auckland en Nueva Zelanda lanzaron la primera versi칩n estable del lenguaje.

Tras dicho lanzamiento, se cre칩 un \textbf{equipo de expertos en estad칤stica computacional} (el conocido como \emph{R Development Core Team}) que es el que se encarga de mantener toda la aerquitectura de \texttt{R} y los que se encargar de actualizar y mejorar el paquete \texttt{\{base\}}, una \textbf{librer칤a motor} sobre la que se construye el resto de funciones.

Y es precisamente ese hecho una de las principales diferencias entre \texttt{Python} y \texttt{R}: \texttt{R} fue creado por y para estad칤sticos. Te dejo esta \href{https://dadosdelaplace.github.io/202112_R-python/}{entrada en el blog} por si quieres curiosear las diferencias (aunque ambos pueden ser 칰tiles para trabajos estad칤sticos muy generales).

\hypertarget{instalacionpaquetes}{%
\section{Comunidad de usuarios: paquetes}\label{instalacionpaquetes}}

La pregunta del mill칩n suele ser siempre la misma: \textbf{쯤u칠 lenguaje elegir?} Podr칤amos hacer una comparativa t칠cnico de distintos lenguajes pero vamos a quedarnos con dos \textbf{consejos fundamentales}: prioriza el software libre y aquellos lenguajes que tienen una \textbf{comunidad muy grande de usuarios} trabajando en los problemas o campo para el que vas a usar dicho lenguaje.

El lenguaje \texttt{R} (tambi칠n \texttt{Python}) tiene \textbf{3 ventajas principales}:

\begin{itemize}
\item
  Es un \textbf{lenguaje creado por y para estad칤sticos/as}.
\item
  Es \textbf{software libre} (como C++, Python, Fortran, y otros tantos lenguajes). El software libre no solo tiene una ventaja evidente (es gratis, ok) sino que permite acceder libremente a c칩digo ajeno.
\item
  Es un \textbf{lenguaje modular}: en la instalaci칩n que hemos realizado no se han instalado todas las funcionalidades, solo el m칤nimo para poder funcionar, de forma que se ahorra espacio en disco y en memoria. Al ser software libre, existen trozos de c칩digo hechos por otras personas llamados \textbf{paquetes}, que podemos ir instalando a nuestro gusto seg칰n los vayamos necesitando. Esto es una ventaja enorme ya que \texttt{R} tiene una comunidad de usuarios gigante para hacer estad칤stica (\texttt{Python} tiene una enorme comunidad pero m치s enfocada al \emph{Machine Learning}), con \textbf{m치s de 17 000 paquetes}: 춰hay m치s de 17 000 trozos de c칩digo, muchos de ellos programados por expertos/as en \texttt{R}, validados por la comunidad y la plataforma, y de forma gratuita!
\end{itemize}

\begin{figure}

{\centering \includegraphics[width=0.7\linewidth]{./img/paquetes_R} 

}

\caption{Paquetes disponibles en R.}\label{fig:paquetes-R}
\end{figure}

Esto nos ahorra much칤simo tiempo en nuestro d칤a a d칤a ya que \textbf{casi todo lo que querramos hacer ya lo habr치 querido hacer otra persona} (y seguramente mejor que nosotros/as). Vamos a instalar, por ejemplo, un paquete gr치fico (\texttt{\{ggplot2\}}) que necesitaremos en el futuro. Para ello, escribe en tu consola el siguiente c칩digo y pulsa \emph{enter}.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{install.packages}\NormalTok{(}\StringTok{"ggplot2"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Dicha orden (puede tardar un poco la primera vez, depende de tu conexi칩n a internet) lo que har치 ser치 \textbf{acceder a la web de R}, \textbf{bajarse a tu ordenador los trozos de c칩digo} incluidos en el paquete llamado \texttt{\{ggplot2\}}, y dejarlos para siempre en 칠l.

~

\textbf{\textcolor{#ffc107}{WARNING:}}

La \textbf{instalaci칩n de paquetes SOLO ES NECESARIA la primera vez} que se usa dicho paquete en la vida del ordenador, no hace falta hacerlo cada vez que lo usas.

~

Una vez que tenemos los trozos de c칩digo (el paquete) en nuestro ordenador, en cada sesi칩n de \texttt{R} que abramos (cada vez que cierres y abras \texttt{RStudio}) deberemos (si queremos) llamar a ese paquete que tenemos instalado, escribiendo el siguiente comando en consola

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(ggplot2)}
\end{Highlighting}
\end{Shaded}

\textbf{Welcome to software libre}

\hypertarget{por-quuxe9-excel-no-es-tu-amigo}{%
\section{쯇or qu칠 Excel no es tu amigo?}\label{por-quuxe9-excel-no-es-tu-amigo}}

\textbf{\texttt{R} es un lenguaje de programaci칩n}, de alto nivel para el usuario y modular. Los lenguajes de alto nivel como \texttt{R}, \texttt{Python} (curso interactivo de Python en \url{https://checkio.org/}) o \texttt{Matlab}, facilitan la programaci칩n al usuario, teniendo que preocuparte solo de la tarea de programar. Son lenguajes con una \textbf{menor curva de aprendizaje} aunque suelen ser m치s lentos en su ejecuci칩n en comparaci칩n con lenguajes de bajo nivel (\texttt{C}, \texttt{C++} o \texttt{Fortran}), lenguajes muy r치pidos en su ejecuci칩n pero cuya programaci칩n requiere un mayor tiempo y formaci칩n, teniendo que adem치s estar pendiente del tipo de variables, espacio en memoria, etc.

Por su arquitectura, \texttt{R} es un lenguaje que puede ser usado para un prop칩sito general pero que est치 especialmente dise침ado para el \textbf{an치lisis estad칤stico de datos}. Su \textbf{modularidad} nos da la ventaja de que podemos instalar las funcionalidades que vayamos necesitando de forma progresiva.

\textbf{\textcolor{#20935E}{쯇or qu칠 no es recomendable usar Excel como base de datos ni para realizar an치lisis estad칤sticos complejos?}}

~

\begin{itemize}
\item
  \textbf{Software de pago}: Excel, al igual que el resto de programas de Microsoft o SPSS (por desgracia programa estrella de nuestro sistema sanitario), es un programa de pago. A nivel individual, todos hemos tenido una versi칩n que no hemos pagado, pero dicha evasi칩n no se la puede permitir una empresa o administraci칩n, que debe de pagar altas cantidades de dinero anuales por las licencias, dinero que no ser칤a necesario si los investigadores y trabajadores tuvieran formaci칩n (remunerada) en otras herramientas de software libre.
\item
  \textbf{Software cerrado}: no solo es de pago sino que es cerrado, as칤 que solo podemos hacer lo que Excel ha cre칤do que interesante que podamos hacer. Incluso con la programaci칩n de MACROS, las funcionalidades de Excel siguen siendo mucho m치s limitadas ya que viene 춺programadas췉 de antemano
\item
  \textbf{Alto consumo de memoria}: dicha programaci칩n predeterminada hace que Excel ocupe much칤simo espacio en el disco duro y tenga un alto consumo de memoria (la memoria es lo que te permite hacer varias tareas a la vez en tu ordenador).
\item
  \textbf{No es universal}: no solo es de pago sino que adem치s, dependiendo de la versi칩n que tengas de Excel, tendr치 un formato distinto para datos como fechas, teniendo incluso extensiones distintas, de forma que un archivo \texttt{.xls} abierto por un Excel moderno puede provocar errores en la carga.
\item
  \textbf{춰ES SOLO UNA HOJA DE C츼LCULO!}: el propio Microsoft desaconseja el uso de Excel para el an치lisis de grandes vol칰menes de datos. El Excel es una herramienta maravillosa para ser usada como una sencilla hoja de c치lculo: llevar las cuentas de tu familia, de tu peque침o negocio, una declaraci칩n de la Renta sencilla, planificar viajes, etc. Pero el programa \textbf{NO EST츼 DISE칌ADO} para ser una base de datos ni para an치lisis detallado, y muchos menos pensado para generar un entorno flexible para el an치lisis estad칤stico y la visualizaci칩n de datos.
\end{itemize}

~

\textbf{쯇uedes ser el mejor partiendo un filete con una cuchara?} Seguramente puedas (en Excel puedes hasta programar con macros), y si siempre lo hiciste as칤, acabar치s normaliz치ndolo, pero seguir치s siendo una persona comiendo filete con cuchara.

\textbf{쯈u칠 sucede si usamos la herramienta equivocada?} Tres ejemplos:

\begin{itemize}
\tightlist
\item
  \textbf{\textcolor{#dc3545}{Problemas para codificar fechas}}: en 2016 se public칩 una \href{https://genomebiology.biomedcentral.com/articles/10.1186/s13059-016-1044-7}{revisi칩n de art칤culos en gen칠tica}, descubriendo que 1 de cada 5 art칤culos conten칤an errores debido a una mala codificaci칩n de las fechas, conviertiendo por ejemplo los genes Septin-2 (conocido como SEPT2) en fechas, y al rev칠s \citep{Ziemannetal16}.
\end{itemize}

\begin{figure}

{\centering \includegraphics[width=0.5\linewidth]{./img/excel_genes} 

}

\caption{Excel en una noche loca.}\label{fig:excel-genes}
\end{figure}

\begin{itemize}
\tightlist
\item
  \textbf{\textcolor{#dc3545}{Problemas de memoria}}: un Excel permite por defecto una cantidad m치xima de filas. Aunque dicha cantidad se puede ampliar, sigue siendo finita, por lo que cuando superas el umbral de filas, al a침adir filas Excel te borra registros \textbf{sin avisarte de que lo est치 haciendo}. Esto es lo que sucedi칩 con los \href{https://www.redaccionmedica.com/secciones/sanidad-hoy/covid-reino-unido-pierden-16000-positivos-9989}{registros de casos covid en Reino Unido}.
\end{itemize}

\begin{figure}

{\centering \includegraphics[width=0.5\linewidth]{./img/excel_uk} 

}

\caption{Cuando Excel dice basta.}\label{fig:excel-uk}
\end{figure}

\begin{itemize}
\tightlist
\item
  \textbf{\textcolor{#dc3545}{Problemas para codificar edades}}: una variable de tipo fecha, aunque nosotros la veamos con letras, en realidad es una variable num칠rica que representa los d칤as que han pasado desde una fecha origen. En funci칩n de las distintas versiones de Excel, dicha fecha origen cambia. Adem치s, si se codifica mal la fecha en formato \texttt{dd-mm-YY}, dicho formato cuando se exporta a otro excel en texto, no permite distinguir a un nacido en 1918 y a un nacido en 2018, as칤 que podemos estar confundiendo personas de 103 a침os con ni침os de 3 a침os (y es lo que \href{https://www.niusdiario.es/sociedad/sanidad/sanidad-reconoce-datos-muertes-ninos-covid-erroneos-contabilizaban-centenarios-como-menores_18_3107220241.html}{sucedi칩 en Espa침a}, observando unas tasas de mortalidad en ni침os muy peque침os equivalentes a personas mayores).
\end{itemize}

\begin{figure}

{\centering \includegraphics[width=0.5\linewidth]{./img/excel_edades} 

}

\caption{Los centenarios con biber칩n.}\label{fig:excel-edades}
\end{figure}

\hypertarget{glosario-1}{%
\section{Glosario}\label{glosario-1}}

\textbf{\textcolor{#4197D2}{GLOSARIO}}

\begin{itemize}
\tightlist
\item
  \textbf{\textcolor{#4197D2}{Paquete}}: trozos de c칩digo realizadas por otros usuarios de la comunidad (y validades por el equipo de CRAN si la descarga es mediante \texttt{install.packages()}) para ser usados. Una vez instalados (descargados) los trozos de c칩digo a nuestro ordenador, basta con 춺acudir췉 a ellos con \texttt{library()}.
\end{itemize}

Haciendo una met치fora con la colecci칩n de libros que tengas en casa: con la \textbf{instalaci칩n hemos comprado el libro} y lo tenemos en nuestra estanter칤a (para siempre), con la llamada al paquete, por ejemplo \texttt{library(ggplot2)}, lo que hacemos es decidir, de entre todos los libros de la estanter칤a, cuales queremos llevarnos de viaje (en cada maleta que hagamos).

Los \textbf{paquetes usados} los ver치s denotados como \texttt{\{nombre\_paquete\}} a lo largo del manual.

\hypertarget{primeros-pasos}{%
\chapter{Primeros pasos}\label{primeros-pasos}}

\begin{blackbox}

Scripts usados:

\begin{itemize}
\tightlist
\item
  \href{https://github.com/dadosdelaplace/courses-ECI-2022/blob/main/scripts/script01.R}{\textbf{script01.R}}: ejercicio 4. Ver en \url{https://github.com/dadosdelaplace/courses-ECI-2022/blob/main/scripts/script01.R}
\end{itemize}


\end{blackbox}

~

Vamos a empezar por lo sencillo: \textbf{쯖칩mo usar \texttt{R} como una calculadora?}

\hypertarget{primeros-pasos-en-r-calculadora}{%
\section{Primeros pasos en R: calculadora}\label{primeros-pasos-en-r-calculadora}}

쯊e acuerdas de lo que era la \textbf{consola}? En el caso de \texttt{RStudio}, la consola ser치 esa peque침a pantalla que tenemos en la parte inferior (la pesta침a \emph{Console}). Vamos a trabajar de momento solo en esa ventana inferior.

\begin{figure}

{\centering \includegraphics[width=0.75\linewidth]{./img/inicio_rstudio_2} 

}

\caption{Lanzando a consola nuestras primeras 칩rdenes en RStudio.}\label{fig:inicio-rstudio-2a}
\end{figure}

Lo que ya hemos descubierto en los pasos de la instalaci칩n (ver imagen \ref{fig:inicio-rstudio-2a}) es que la consola de \texttt{R} tiene una funci칩n muy b치sica y evidente: nos sirve de calculadora. Un ejemplo muy simple: si escribimos 3 en la consola y pulsamos \emph{ENTER}, la consola nos mostrar치 el resultado de la suma

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{1} \OperatorTok{+}\StringTok{ }\DecValTok{2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 3
\end{verbatim}

~

\textbf{쮺u치l es la diferencia entre una calculadora y un lenguaje de programaci칩n?} Imagina que dicha suma 3 la quisi칠ramos utilizar para un segundo c치lculo: 쯫 si en lugar de lanzarlo a la consola sin m치s lo \textbf{almacenamos en alguna variable}?

Como hemos visto en la instalaci칩n de \texttt{RStudio}, para \textbf{asignar variables} lo haremos con \texttt{\textless{}-}, por ejemplo la orden \texttt{x\ \textless{}-\ 1\ +\ 2}: una variable de nombre \texttt{x} va a tener asignada lo que valga la suma \texttt{1\ +\ 2}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x <-}\StringTok{ }\DecValTok{1} \OperatorTok{+}\StringTok{ }\DecValTok{2}
\end{Highlighting}
\end{Shaded}

Como puedes comprobar, en tu parte superior derecha (nuestro \textbf{entorno de variables}), podr치s ver como una nueva variable \texttt{x} es ahora visualizada, con su valor asignado (\textbf{no se mostrar치 en consola} salvo que escribas 3 en ella: \texttt{R} asume que no quer칤as visualizarla en consola sino solo guardarla).

\begin{figure}

{\centering \includegraphics[width=0.75\linewidth]{./img/environment_1} 

}

\caption{Environment.}\label{fig:unnamed-chunk-8}
\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{y <-}\StringTok{ }\NormalTok{x }\OperatorTok{-}\StringTok{ }\DecValTok{3}
\NormalTok{x}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{y}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{*}\StringTok{ }\NormalTok{y}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

Dicha variable \texttt{x} adem치s podemos reciclarla para definir, por ejemplo, una variable \texttt{y}, rest치ndole una constante. De la misma manera que hemos hecho restas, sumas y multiplicaciones, \texttt{R} tiene todas las operaciones cl치sicas que podr칤as tener en una calculadora. Prueba a ejecutar en la consola las 칩rdenes \texttt{x\^{}2}, \texttt{sqrt(x)} o \texttt{abs(y)}: \texttt{R} calcular치 las operaciones \emph{elevar al cuadrado}, \emph{ra칤z cuadrada} y \emph{valor absoluto} (respectivaemnte) de la variable que tengan entre par칠ntesis

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x}\OperatorTok{^}\DecValTok{2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 9
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{sqrt}\NormalTok{(x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1.732051
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{y <-}\StringTok{ }\NormalTok{x }\OperatorTok{-}\StringTok{ }\DecValTok{5}
\KeywordTok{abs}\NormalTok{(y)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 2
\end{verbatim}

~

\hypertarget{y-duxf3nde-programamos}{%
\section{쯏 d칩nde programamos?}\label{y-duxf3nde-programamos}}

\textbf{쮼st치s emocionado/a? Vamos a abrir nuestro primer script}. Un \textbf{script} ser치 el documento en el que programamos, nuestro \texttt{.doc}, pero aqu칤 ser치 un archivo con extensi칩n \texttt{.R}, donde escribiremos las 칩rdenes, que nos evitar치 estar lanzando todo a consola. \textbf{쯇or qu칠 no abusar de la consola?} Una m치xima para no olvidar: TODO lo que no escribas en un script, cuando cierres \texttt{RStudio}, lo habr치s perdido (c칩mo si en lugar de escribir en un \texttt{Word} y guardarlo, nunca guardases el documento).

Para abrir nuestro primero script, haz click en el men칰 superior en \texttt{File\ \textless{}\textless{}\ New\ File\ \textless{}\textless{}\ R\ Script} como se muestra en la imagen \ref{fig:inicio-rstudio-5}

\begin{figure}

{\centering \includegraphics[width=0.8\linewidth]{./img/inicio_rstudio_5} 

}

\caption{Abriendo nuestro primer script de R.}\label{fig:inicio-rstudio-5}
\end{figure}

Tras abrirlo tendremos una cuarta ventana: esta ser치 la ventana de nuestros c칩digos, la ventana m치s importante ya que es donde \textbf{escribiremos lo que queremos ejecutar}. Escribe el \textbf{c칩digo de la suma de arriba} en ese script y guarda el archivo haciendo click en el bot칩n \texttt{Save\ current\ document}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a <-}\StringTok{ }\DecValTok{1}
\NormalTok{b <-}\DecValTok{2}
\NormalTok{a }\OperatorTok{+}\StringTok{ }\NormalTok{b}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 3
\end{verbatim}

\begin{figure}

{\centering \includegraphics[width=0.85\linewidth]{./img/inicio_rstudio_6} 

}

\caption{Escribiendo y guardando nuestro primer script.}\label{fig:inicio-rstudio-6}
\end{figure}

Ese c칩digo no se ejecuta salvo que se lo digamos. Tenemos \textbf{tres opciones para ejecutar c칩digo}:

\begin{itemize}
\item
  \textbf{\textcolor{#20935E}{Copiar y pegar el trozo de c칩digo en la consola}} (como hemos hecho al principio).
\item
  \textbf{\textcolor{#20935E}{Seleccionar l칤neas de c칩digo y clickar en Run}} (o con su atajo de teclado), lo que har치 que se ejecute solo las l칤neas seleccionadas.
\item
  \textbf{\textcolor{#20935E}{Activar el cuadrado Source on save a la derecha del bot칩n de guardar}} y volvemos a hacer click en el bot칩n de guardar: siempre que esa opci칩n est칠 activada, al guardar no solo es nos guarda el archivo \texttt{.R} sino que adem치s \textbf{se ejecuta} el c칩digo completo que tengas en el script.
\end{itemize}

\hypertarget{tipos_errores}{%
\section{Tipos de errores}\label{tipos_errores}}

Durante tu aprendizaje en \texttt{R} va a ser \textbf{muy habitual} que las cosas no salgan a la primera, \textbf{apareciendo en consola mensajes en un color rojo}. Un \textbf{miedo} muy habitual cuando se empieza a programar es pensar que si haces algo mal o aparece alg칰n mensaje de error, el ordenador puede explotar en cualquier momento. \textbf{A programar se aprende programando}, as칤 que haz las pruebas que quieras, lo peor que puede pasar es que necesites cerrar sesi칩n en \texttt{R\ Studio} y abrirlo de nuevo, o en el peor de los casos, desintalarlo y volverlo a iinstalar.

Dado que el \(99.9\%\) de las veces tu c칩digo tendr치 errores que deber치s ir solventando, no est치 de m치s conocer los tipos de mensajes que \texttt{R} puede sacarte por consola.

Los \textbf{\textcolor{#dc3545}{mensajes de ERROR}} ir치n precedidos de la frase \textbf{\textcolor{#dc3545}{춺Error in...췉}}, d치ndote a veces incluso el tipo de error y la l칤nea de c칩digo en la que se ha producido. Veamos un ejemplo intentando sumar un n칰mero a una cadena de texto.

\begin{Shaded}
\begin{Highlighting}[]
\StringTok{"a"} \OperatorTok{+}\StringTok{ }\DecValTok{1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in "a" + 1: argumento no-num칠rico para operador binario
\end{verbatim}

Los \textbf{errores son aquellos fallos que seguramente impidan la ejecuci칩n} del c칩digo. Un \textbf{error muy habitual} es intentar acceder a alguna funci칩n de alg칰n paquete que, o bien no tenemos instalado, o bien no hemos llamado haciendo uso del \texttt{library()}: est치s intentando leerte un libro de tu biblioteca pero ni siquiera has ido a la tienda a 춺comprarlo췉.

~

Los \textbf{\textcolor{#ffc107}{mensajes de WARNING}} ir치n precedidos de la frase \textbf{\textcolor{#ffc107}{춺Warning in...췉}}, y son los fallos m치s delicados ya que son \textbf{posibles errores o incoherencias} que \texttt{R} detecta en tu c칩digo pero que \textbf{no van a hacer que tu c칩digo deje de ejecutarse}, aunque probablemente no lo haga como a ti te gustar칤a. Un ejemplo es cuando tratamos de hacer la raiz cuadrada de un n칰mero negativo.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{sqrt}\NormalTok{(}\OperatorTok{-}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in sqrt(-1): Se han producido NaNs
\end{verbatim}

\begin{verbatim}
## [1] NaN
\end{verbatim}

쮿a ejecutado la orden? S칤, pero te \textbf{advierte de que el resultado de la operaci칩n es un \texttt{NaN}}, un valor que no existe (al menos dentro de los n칰meros reales), un \emph{Not A Number} (ver Secci칩n \ref{ausentes}).

~

Los \textbf{\textcolor{#20935E}{mensajes de CONTROL}} ser치n aquellos que aparecer치n por consola sin empezar por 춺Error in\ldots{}췉 ni 춺Warning:\ldots{}췉. Dichos mensajes, que puedes incluir t칰 mismo en tu c칩digo con funciones como \texttt{cat()} para monitorizar la ejecuci칩n de c칩digos largos, no son errores ni problemas, son simplemente informaci칩n que \texttt{R} considera 칰til aportarte.

~

\hypertarget{glosario-2}{%
\section{Glosario}\label{glosario-2}}

\textbf{\textcolor{#4197D2}{GLOSARIO}}

\begin{itemize}
\tightlist
\item
  \textbf{\textcolor{#4197D2}{Paquete}}: trozos de c칩digo realizadas por otros usuarios de la comunidad (y validades por el equipo de CRAN si la descarga es mediante \texttt{install.packages()}) para ser usados. Una vez instalados (descargados) los trozos de c칩digo a nuestro ordenador, basta con 춺acudir췉 a ellos con \texttt{library()}.
\end{itemize}

Haciendo una met치fora con la colecci칩n de libros que tengas en casa: con la \textbf{instalaci칩n hemos comprado el libro} y lo tenemos en nuestra estanter칤a (para siempre), con la llamada al paquete, por ejemplo \texttt{library(ggplot2)}, lo que hacemos es decidir, de entre todos los libros de la estanter칤a, cuales queremos llevarnos de viaje (en cada maleta que hagamos).

Los \textbf{paquetes usados} los ver치s denotados como \texttt{\{nombre\_paquete\}} a lo largo del manual.

\hypertarget{consejos-1}{%
\section{Consejos}\label{consejos-1}}

\textbf{\textcolor{#20935E}{CONSEJOS}}

~

\textbf{\textcolor{#20935E}{Panel de ayuda}}

Si escribes en la consola \texttt{?\ nombre\_funcion} (por ejemplo, escribe en la consola \texttt{?\ sqrt}), en el panel inferior derecho te aparecer치 una \textbf{documentaci칩n de ayuda} de la funci칩n para saber que argumentos necesita, como puedes usar la funci칩n, qu칠 es lo que te devuelve, ejemplos de uso, etc.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{? sqrt}
\end{Highlighting}
\end{Shaded}

\begin{figure}

{\centering \includegraphics[width=0.5\linewidth]{./img/panel_ayuda} 

}

\caption{Panel de ayuda.}\label{fig:unnamed-chunk-15}
\end{figure}

~

\textbf{\textcolor{#20935E}{쮺칩mo comentar el c칩digo?}}

Probablemente lo m치s importante al programar es que \textbf{te acostumbres a comentar} lo m치ximo posible tu c칩digo. \textbf{쯈u칠 es un comentario?} Es un texto que escribes entre el c칩digo precedido de \texttt{\#}: todo lo que venga detr치s no ser치 interpretado por \texttt{R} como c칩digo. Es \textbf{vital cuando programamos} que nos acostumbremos a comentar lo que hacemos, tanto para nosotros como para otras personas que puedan leer nuestro c칩digo.

~

\textbf{\textcolor{#20935E}{칈ndice en el c칩digo}}

Puedes escribir comentarios en el c칩digo para que autom치ticamente se \textbf{organice tu c칩digo en ep칤grafes}, mostr치ndote un 칤ndice en el panel lateral (haz click en el icono de la esquina superior derecha del editor) y permitiendo minimizar partes del c칩digo. Para ello puedes comentar por ejemplo con \texttt{\#\ -\/-\/-\/-\/-\ t칤tulo\ -\/-\/-\/-\/-}.

\begin{figure}

{\centering \includegraphics[width=0.7\linewidth]{./img/comentarios-indice} 

}

\caption{Comentando el c칩digo para generar un 칤ndice.}\label{fig:unnamed-chunk-16}
\end{figure}

~

\hypertarget{ejercicios}{%
\section{游닇 Ejercicios}\label{ejercicios}}

(haz click en las flechas para ver soluciones)

游닇Ejercicio 1: en tu consola (parte inferior de tu pantalla), asigna los valores \texttt{2} y \texttt{5} a dos variables \texttt{a} y \texttt{b}. Tras asignarles valores, multiplica los n칰meros en consola (\textbf{haz click} en la flecha para la soluci칩n propuesta).

\begin{itemize}
\tightlist
\item
  Soluci칩n:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Para poner comentarios en el c칩digo se usa #}

\CommentTok{# Definici칩n de variables}
\NormalTok{a <-}\StringTok{ }\DecValTok{2}
\NormalTok{b <-}\StringTok{ }\DecValTok{5}

\CommentTok{# Multiplicaci칩n}
\NormalTok{a }\OperatorTok{*}\StringTok{ }\NormalTok{b}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 10
\end{verbatim}

\begin{figure}

{\centering \includegraphics[width=0.8\linewidth]{./img/consola_multiplicacion} 

}

\caption{Multiplicaci칩n de a y b.}\label{fig:consola-multi}
\end{figure}

~

游닇Ejercicio 2: repite el ejercicio anterior pero ahora guarda el resultado de la multiplicaci칩n en una variable \texttt{c}. Para ver el resultado guardado en \texttt{c} escribe dicha variable en consola (\textbf{haz click} en la flecha para la soluci칩n propuesta).

\begin{itemize}
\tightlist
\item
  Soluci칩n:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Variables}
\NormalTok{a <-}\StringTok{ }\DecValTok{2}
\NormalTok{b <-}\StringTok{ }\DecValTok{5}

\CommentTok{# Resultado}
\NormalTok{c <-}\StringTok{ }\NormalTok{a }\OperatorTok{*}\StringTok{ }\NormalTok{b}

\CommentTok{# Muestro en consola}
\NormalTok{c}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 10
\end{verbatim}

\begin{figure}

{\centering \includegraphics[width=0.8\linewidth]{./img/consola_multiplicacion_2} 

}

\caption{Multiplicaci칩n de a y b guardando el resultado.}\label{fig:consola-multi-2}
\end{figure}

~

游닇Ejercicio 3: asigna ahora los valores \texttt{1}, \texttt{-2}, \texttt{3} a tres variables \texttt{a}, \texttt{b} y \texttt{c}, y calcula la ra칤z cuadrada de cada uno.

\begin{itemize}
\tightlist
\item
  Soluci칩n:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Variables}
\NormalTok{a <-}\StringTok{ }\DecValTok{1}
\NormalTok{b <-}\StringTok{ }\DecValTok{-2}
\NormalTok{c <-}\StringTok{ }\DecValTok{3}

\CommentTok{# Resultado}
\KeywordTok{sqrt}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{sqrt}\NormalTok{(b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] NaN
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{sqrt}\NormalTok{(c)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1.732051
\end{verbatim}

~

游닇Ejercicio 4: repite el ejercicio 2 pero ahora escribe el c칩digo en un script (fichero \texttt{.R}, guardado en \href{https://github.com/dadosdelaplace/courses-ECI-2022/blob/main/scripts/script01.R}{\textbf{script01.R}}). Recuerda al acabar seleccionar las l칤neas a ejecutar y clickar \texttt{Run}, o bien guardar el script con \texttt{Source\ on\ save} activado (\textbf{haz click} en la flecha para la soluci칩n propuesta).

\begin{itemize}
\tightlist
\item
  Soluci칩n:
\end{itemize}

\begin{figure}

{\centering \includegraphics[width=0.8\linewidth]{./img/consola_multiplicacion_3} 

}

\caption{Multiplicaci칩n de a y b guardando el resultado pero escribiendo en el script.}\label{fig:consola-multi-3}
\end{figure}

~

游닇Ejercicio 5: calcula en consola la suma de 3 m치s 4, y todo ello multiplicado por 10, y as칤gnalo a una variable \texttt{x} (\textbf{haz click} en la flecha para la soluci칩n propuesta).

\begin{itemize}
\tightlist
\item
  Soluci칩n:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x <-}\StringTok{ }\NormalTok{(}\DecValTok{3} \OperatorTok{+}\StringTok{ }\DecValTok{4}\NormalTok{) }\OperatorTok{*}\StringTok{ }\DecValTok{10}
\end{Highlighting}
\end{Shaded}

~

游닇Ejercicio 6: asigna un valor positivo a \texttt{x} y calcula su ra칤z cuadrada; asigna otro negativo y calcula su valor absoluto (\textbf{haz click} en la flecha para la soluci칩n propuesta).

\begin{itemize}
\tightlist
\item
  Soluci칩n:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Ra칤z cuadrada}
\NormalTok{x <-}\StringTok{ }\DecValTok{73}
\KeywordTok{sqrt}\NormalTok{(x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 8.544004
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Valor absoluto}
\NormalTok{y <-}\StringTok{ }\DecValTok{-73}
\KeywordTok{abs}\NormalTok{(y)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 73
\end{verbatim}

~

\textbf{\textcolor{#20935E}{CONSEJO:}}

Las 칩rdenes \texttt{sqrt(x)} y \texttt{abs(y)} se llaman \textbf{funciones}, y la variable que tienen entre par칠ntesis se llama \textbf{argumento de la funci칩n}: una variable que toma de entrada la funci칩n y con la que opera internamente.

~

游닇Ejercicio 7: usando la variable \texttt{x} ya definida, calcula \texttt{x\ -\ 5} y gu치rdalo en una nueva variable \texttt{z} (\textbf{haz click} en la flecha para la soluci칩n propuesta).

\begin{itemize}
\tightlist
\item
  Soluci칩n:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{z <-}\StringTok{ }\NormalTok{x }\OperatorTok{-}\StringTok{ }\DecValTok{5}
\NormalTok{z}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 68
\end{verbatim}

~

游닇Ejercicio 8: usando las variables \texttt{x} y \texttt{z} ya definidas, calcula la ra칤z cuadrada del m치ximo entre ambas, y gu치rdalo en una nueva variable \texttt{t}. Hazlo en un script en lugar de en consola (\textbf{haz click} en la flecha para la soluci칩n propuesta).

\begin{itemize}
\tightlist
\item
  Soluci칩n:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{t <-}\StringTok{ }\KeywordTok{sqrt}\NormalTok{(}\KeywordTok{max}\NormalTok{(x, z)) }
\NormalTok{t}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 8.544004
\end{verbatim}

~

\textbf{\textcolor{#ffc107}{WARNING:}}

No hace falta gastar una l칤nea por cada orden que quieras ejecutar. Tampoco necesitas guardar cada paso intermedio que realices. \textbf{\textcolor{#ffc107}{Cuidado con la memoria}}: cada asignaci칩n que hagas es una variable guardada que consume recursos en tu ordenador.

\hypertarget{part-conceptos-buxe1sicos}{%
\part{Conceptos b치sicos}\label{part-conceptos-buxe1sicos}}

\hypertarget{tipos-datos}{%
\chapter{Tipos de datos}\label{tipos-datos}}

\begin{blackbox}

Scripts usados:

\begin{itemize}
\tightlist
\item
  \href{https://github.com/dadosdelaplace/courses-ECI-2022/blob/main/scripts/script02.R}{\textbf{script02.R}}: tipos de datos y funciones usadas con ellos. Ver en \url{https://github.com/dadosdelaplace/courses-ECI-2022/blob/main/scripts/script02.R}
\end{itemize}


\end{blackbox}

~

Tras las lecciones anteriores, los ejercicios planteados y lo que hayas jugueteado por tu cuenta, deber칤amos saber usar ya \texttt{R} como una calculadora. Vamos a ir m치s all치: \textbf{쯘xisten datos m치s all치 de los n칰meros?} En este cap칤tulo vamos a empezar a familiarizarnos con los tipos de datos (individuales) que podemos necesitar. Piensa por ejemplo en los datos guardados de una persona:

\begin{itemize}
\tightlist
\item
  La edad ser치 un \textbf{n칰mero (sin decimales)}
\item
  Su peso o estatura ser치 otro \textbf{n칰mero (ahora con decimales)}.
\item
  Su nombre ser치 una \textbf{cadena de texto}.
\item
  Su fecha de nacimiento ser치 precisamente eso, una \textbf{fecha}.
\item
  A la pregunta 춺쯘st치 usted soltero/a?췉 la respuesta ser치 lo que llamamos una \textbf{variable binaria}: una variable que solo puede valer \texttt{TRUE} (si est치 soltero/a) y \texttt{FALSE} (en otro caso).
\end{itemize}

Existen \textbf{m치s tipos} (como n칰meros complejos) pero con estos nos valdr치 para nuestra introducci칩n.

\hypertarget{numericas}{%
\section{Variables num칠ricas}\label{numericas}}

\begin{itemize}
\tightlist
\item
  {[}X{]} Variables num칠ricas (individuales)
\item
  {[} {]} Variables de caracteres
\item
  {[} {]} Variables l칩gicas
\item
  {[} {]} Variables de tipo fecha
\end{itemize}

Probablemente el dato \textbf{m치s sencillo y obvio} de entender sean los datos num칠ricos, datos que ya hemos usado en nuestros primeros pasos como calculadora.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a <-}\StringTok{ }\DecValTok{1}
\NormalTok{b <-}\StringTok{ }\DecValTok{2}
\NormalTok{a }\OperatorTok{+}\StringTok{ }\NormalTok{b}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 3
\end{verbatim}

En el c칩digo anterior, tanto \texttt{a} como \texttt{b} como la suma \texttt{a\ +\ b} son de \textbf{tipo num칠rico}, algo que podemos comprobar con la funci칩n \texttt{class()} (nos devuelve \emph{numeric}).

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Clase de las variables}
\KeywordTok{class}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "numeric"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{(b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "numeric"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{(a }\OperatorTok{+}\StringTok{ }\NormalTok{b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "numeric"
\end{verbatim}

Tambi칠n podemos comprobar su naturaleza con \texttt{typeof()}, que nos devuelve la naturaleza del dato tal cual es guardada en \texttt{R}.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Topolog칤a interna}
\KeywordTok{typeof}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "double"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{typeof}\NormalTok{(b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "double"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{typeof}\NormalTok{(a }\OperatorTok{+}\StringTok{ }\NormalTok{b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "double"
\end{verbatim}

F칤jate que ambas 칩rdenes combinadas nos dicen que las variables son de tipo num칠rico pero concretamente de tipo \emph{double}: dichas variables son entendidas internamente como n칰meros con decimales (aunque no los veamos), lo que en \textbf{matem치ticas se llaman n칰meros reales} (por curiosidad: el t칠rmino \emph{double} viene de lenguajes de programaci칩n antiguos como \texttt{C}, que significa 춺doble precisi칩n췉, para indicarle que reserve 8 bytes - 64 bits - de memoria). Durante el curso no distinguiremos entre distintos tipos de n칰meros, para nosotros ser치n siempre de clase \emph{numeric} y de tipo \emph{double}, pero podr칤amos definir n칰meros enteros o \emph{integer} (sin decimales, ahorrando huecos en memoria).

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Dato num칠rico (entero)}
\NormalTok{a <-}\StringTok{ }\NormalTok{1L}
\KeywordTok{class}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "integer"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{typeof}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "integer"
\end{verbatim}

Con los \textbf{datos num칠ricos} podemos realizar todas las \textbf{operaciones} que se nos ocurrir칤a hacer en una \textbf{calculadora}, como sumar (\texttt{+}), restar (\texttt{-}), multiplicar (\texttt{*}), dividir (\texttt{/}), ra칤z cuadrada (\texttt{sqrt()}), valor absoluto (\texttt{abs()}), elevar al cuadrado (\texttt{\^{}2}), elevar al cubo (\texttt{\^{}3}), etc.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Definimos dos variables num칠ricas}
\NormalTok{a <-}\StringTok{ }\DecValTok{1}
\NormalTok{b <-}\StringTok{ }\DecValTok{-2}

\CommentTok{# Suma y resta}
\NormalTok{a }\OperatorTok{+}\StringTok{ }\NormalTok{b}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] -1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{-}\StringTok{ }\NormalTok{b}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Multiplicaci칩n y divisi칩n}
\NormalTok{a }\OperatorTok{*}\StringTok{ }\NormalTok{b}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] -2
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{/}\StringTok{ }\NormalTok{b}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] -0.5
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Ra칤z cuadrada}
\KeywordTok{sqrt}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Valor absoluto}
\KeywordTok{abs}\NormalTok{(b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 2
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Potencias}
\NormalTok{a}\OperatorTok{^}\DecValTok{2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{b}\OperatorTok{^}\DecValTok{3}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] -8
\end{verbatim}

\hypertarget{caracter}{%
\section{Variables de tipo caracter (texto)}\label{caracter}}

\begin{itemize}
\tightlist
\item
  {[}X{]} Variables num칠ricas (individuales)
\item
  {[}X{]} Variables de caracteres
\item
  {[} {]} Variables l칩gicas
\item
  {[} {]} Variables de tipo fecha
\end{itemize}

Pero no solo de n칰meros viven los datos: imagina que adem치s de la edad de una persona queremos guardar su nombre.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{edad <-}\StringTok{ }\DecValTok{32}
\NormalTok{nombre <-}\StringTok{ "Javier"}

\KeywordTok{class}\NormalTok{(edad)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "numeric"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{typeof}\NormalTok{(edad)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "double"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{(nombre)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "character"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{typeof}\NormalTok{(nombre)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "character"
\end{verbatim}

F칤jate que ahora tenemos en \texttt{nombre} una variable de tipo \emph{character}, es decir, una cadena de texto (conocido en otros lenguajes como \emph{string} o \emph{char}): \textbf{letras y caracteres entre comillas}.

\hypertarget{nuestra-primera-funciuxf3n-pastepaste0}{%
\subsection{Nuestra primera funci칩n: paste/paste0}\label{nuestra-primera-funciuxf3n-pastepaste0}}

Las \textbf{cadenas de texto} son un tipo especial de dato, con los que obviamente no podremos hacer operaciones aritm칠ticas, pero si podemos hacer operaciones propias de cadenas de texto como puede ser la funci칩n \texttt{paste()}. Dicha funci칩n nos permite \textbf{pegar dos cadenas de caracteres}, decidiendo que caracter queremos que vaya entre palabra con el argumento \texttt{sep\ =}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{nombre <-}\StringTok{ "Javier"}
\NormalTok{apellido <-}\StringTok{ "츼lvarez"}
\KeywordTok{paste}\NormalTok{(nombre, apellido, }\DataTypeTok{sep =} \StringTok{""}\NormalTok{) }\CommentTok{# todo junto}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Javier츼lvarez"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{paste}\NormalTok{(nombre, apellido, }\DataTypeTok{sep =} \StringTok{" "}\NormalTok{) }\CommentTok{# separados por un espacio}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Javier 츼lvarez"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{paste}\NormalTok{(nombre, apellido, }\DataTypeTok{sep =} \StringTok{"."}\NormalTok{) }\CommentTok{# separados por un punto .}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Javier.츼lvarez"
\end{verbatim}

Si queremos pegar cadenas de texto sin ning칰n tipo de caracter, existe una forma m치s abreviada y limpia de ejecutar la orden, usando la funci칩n \texttt{paste0()}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Son equivalentes}
\KeywordTok{paste}\NormalTok{(nombre, apellido, }\DataTypeTok{sep =} \StringTok{""}\NormalTok{) }\CommentTok{# todo junto}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Javier츼lvarez"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{paste0}\NormalTok{(nombre, apellido) }\CommentTok{# todo junto sin nada separando}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Javier츼lvarez"
\end{verbatim}

Cuando hemos ejecutado \texttt{paste()} estamos ejecutando lo que se conoce como una \textbf{funci칩n}: una palabra reservada que representa un \textbf{conjunto de 칩rdenes}, y que se ejecuta a partir de unos \textbf{argumentos de entrada}. En el caso de la funci칩n \texttt{paste()} puede tener varios argumentos: las cadenas de texto que queremos copiar, y un \textbf{argumento opcional} llamado \texttt{sep}, que podemos darle un valor con concreto o dejarlo sin especificar. Lo que har치 \texttt{R} ser치 tomar su \textbf{valor por defecto} igual a \texttt{sep\ =\ "\ "} (por defecto, la funci칩n \texttt{paste()} pega cadenas de texto con un espacio entre ellas). Prueba a ejecutar \texttt{?\ paste} en consola para ver las opciones en el \textbf{panel de ayuda}.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Son equivalentes}
\KeywordTok{paste}\NormalTok{(nombre, apellido, }\DataTypeTok{sep =} \StringTok{" "}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Javier 츼lvarez"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{paste}\NormalTok{(nombre, apellido)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Javier 츼lvarez"
\end{verbatim}

\hypertarget{nuestro-primer-paquete-glue}{%
\subsection{Nuestro primer paquete: glue}\label{nuestro-primer-paquete-glue}}

Otra \textbf{forma m치s intuitiva de trabajar con textos y variables num칠ricas} es usar el paquete \texttt{\{glue\}}, que nos permite pegar cadenas de texto a variables num칠ricas de \textbf{forma simb칩lica}.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{install.packages}\NormalTok{(}\StringTok{"glue"}\NormalTok{) }\CommentTok{# solo la primera vez}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(glue)}
\end{Highlighting}
\end{Shaded}

Recuerda que \texttt{install.packages()} es solo necesario la primera que 춺compramos el libro췉: nos bajamos una serie de archivos a nuestro ordenador. Una vez que hemos comprado el libro, cada vez que queramos usarlo bastar치 con indicarle que nos traiga ese libro concreto con \texttt{library()}.

El paquete \texttt{\{glue\}} nos permite pegar de una forma mucho m치s legible cadenas de texto

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Ejemplo 1}
\NormalTok{edad <-}\StringTok{ }\DecValTok{32}
\KeywordTok{glue}\NormalTok{(}\StringTok{"La edad es de \{edad\} a침os"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## La edad es de 32 a침os
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{paste}\NormalTok{(}\StringTok{"La edad es de"}\NormalTok{, edad, }\StringTok{"a침os"}\NormalTok{) }\CommentTok{# equivalente}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "La edad es de 32 a침os"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Ejemplo 2}
\NormalTok{edad <-}\StringTok{ }\DecValTok{32}
\NormalTok{unidades <-}\StringTok{ "a침os"}
\KeywordTok{glue}\NormalTok{(}\StringTok{"La edad es de \{edad\} \{unidades\}"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## La edad es de 32 a침os
\end{verbatim}

Tambi칠n podemos hacer uso de dicha funci칩n sin tener los valores num칠ricos previamente guardados en variables.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Otra forma sin definir variables a priori}
\KeywordTok{glue}\NormalTok{(}\StringTok{"La edad es de \{32\} a침os"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## La edad es de 32 a침os
\end{verbatim}

~

\hypertarget{logicas}{%
\section{Variables l칩gicas (TRUE/FALSE)}\label{logicas}}

\begin{itemize}
\tightlist
\item
  {[}X{]} Variables num칠ricas (individuales)
\item
  {[}X{]} Variables de caracteres
\item
  {[}X{]} Variables l칩gicas
\item
  {[} {]} Variables de tipo fecha
\end{itemize}

Probablemente el tipo de datos m치s importante en todo lenguaje de programaci칩n son las \textbf{variables l칩gicas}. Un \textbf{valor l칩gico} puede tomar \textbf{dos valores} (en realidad pueden tomar un tercer valor, \texttt{NA}, las siglas de \emph{not available} para representar datos ausentes, pero lo veremos m치s adelante):

\begin{itemize}
\tightlist
\item
  \texttt{TRUE} (guardado internamente como un \texttt{1}).
\item
  \texttt{FALSE} (guardado internamente como un \texttt{0}).
\end{itemize}

Este tipo de variables, tambi칠n conocidas como \textbf{variables binarias (solo dos valores) o booleanas}, son la base de la programaci칩n ya que cada bit de nuestro ordenador puede guardar un \texttt{1} o un \texttt{0}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{soltero <-}\StringTok{ }\OtherTok{TRUE} \CommentTok{# 쮼s soltero? --> S칈}
\NormalTok{carnet_conducir <-}\StringTok{ }\OtherTok{FALSE} \CommentTok{# 쯊iene carnet de conducir? --> NO}

\KeywordTok{class}\NormalTok{(soltero)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "logical"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{typeof}\NormalTok{(soltero)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "logical"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{(carnet_conducir)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "logical"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{typeof}\NormalTok{(carnet_conducir)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "logical"
\end{verbatim}

Ahora nuestas variables son guardadas como \emph{logical}, y pueden tomar los valores \texttt{TRUE/FALSE}, aunque internamente son guardados como \texttt{1/0}. Es importante entender que \textbf{no son variables de texto}:

\begin{itemize}
\tightlist
\item
  \texttt{"TRUE"} es un texto (internamente id칠ntico a \texttt{rojo} o \texttt{azul})
\item
  \texttt{TRUE} es una variable l칩gica
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Texto}
\NormalTok{texto <-}\StringTok{ "TRUE"}
\NormalTok{texto }\OperatorTok{+}\StringTok{ }\DecValTok{1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in texto + 1: argumento no-num칠rico para operador binario
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# L칩gica}
\NormalTok{logica <-}\StringTok{ }\OtherTok{TRUE}
\NormalTok{logica }\OperatorTok{+}\StringTok{ }\DecValTok{1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 2
\end{verbatim}

Estos valores suelen ser resultado de evaluar \textbf{condiciones l칩gicas}. Por ejemplo, imaginemos que queremos comprobar si una persona est치 soltero o no, y si tiene carnet de conducir o no. Basta con que ejecutemos la orden \texttt{soltero\ ==\ TRUE}, que nos devolver치 \texttt{TRUE} si est치 soltero, y \texttt{FALSE} en caso contrario. De igual manera podremos hacer \texttt{carnet\_conducir\ ==\ TRUE}. \textbf{IMPORTANTE}: cuando queremos \textbf{comparar si un elemento es igual a otro}, usaremos el operador de comparaci칩n \texttt{==}, pudiendo usar tambi칠n su opuesto \texttt{!=} (춺distinto de췉).

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{soltero }\OperatorTok{==}\StringTok{ }\OtherTok{TRUE}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] TRUE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{soltero }\OperatorTok{!=}\StringTok{ }\OtherTok{TRUE} \CommentTok{# igual que soltero == FALSE}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] FALSE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{carnet_conducir }\OperatorTok{==}\StringTok{ }\OtherTok{TRUE}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] FALSE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{carnet_conducir }\OperatorTok{!=}\StringTok{ }\OtherTok{TRUE}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] TRUE
\end{verbatim}

Por el mismo razonamiento podemos \textbf{comparar si una variable num칠rica o de tipo caracter} es igual o distinto a un valor dado, incluso para las num칠ricas podemos \textbf{comparar si son menores o mayores} que un n칰mero.

쯊iene la persona menos de 32 a침os? 쯊iene justo 32 a침os? 쯊iene 32 a침os o m치s?

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{edad }\OperatorTok{<}\StringTok{ }\DecValTok{32}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] FALSE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{edad }\OperatorTok{==}\StringTok{ }\DecValTok{32}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] TRUE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{edad }\OperatorTok{>=}\StringTok{ }\DecValTok{32}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] TRUE
\end{verbatim}

쯃a persona se llama Carlos?

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{nombre }\OperatorTok{==}\StringTok{ "Carlos"}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] FALSE
\end{verbatim}

F칤jate que para comparaciones tenemos 춺igual a췉 \texttt{==} frente distinto \texttt{!=}, pero tambi칠n comparaciones de orden como \texttt{\textless{}=}, \texttt{\textgreater{}} o \texttt{\textgreater{}=}. Las \textbf{condiciones l칩gicas pueden ser combinadas}, principalmente de dos maneras:

\begin{itemize}
\item
  \textbf{Intersecci칩n}: todas las condiciones concatenadas se deben cumplir (conjunci칩n \texttt{y}, operador \texttt{\&}) para devolver un \texttt{TRUE}.
\item
  \textbf{Uni칩n}: basta con que una de las condiciones concatenadas se cumpla (conjunci칩n \texttt{o}, operador \texttt{\textbar{}}) para devolver un \texttt{TRUE}.
\end{itemize}

Por ejemplo, podr칤amos preguntarnos si la persona tiene m치s de 32 a침os y est치 soltero (AMBAS deben cumplirse).

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{edad }\OperatorTok{>}\StringTok{ }\DecValTok{32} \OperatorTok{&}\StringTok{ }\NormalTok{soltero }\OperatorTok{==}\StringTok{ }\OtherTok{TRUE}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] FALSE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Equivalente (al ser soltero un valor ya de por si l칩gico)}
\NormalTok{edad }\OperatorTok{>}\StringTok{ }\DecValTok{32} \OperatorTok{&}\StringTok{ }\NormalTok{soltero}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] FALSE
\end{verbatim}

Vemos que el resultado es \texttt{FALSE} ya que solo se cumple una de las condiciones: devolver칤a \texttt{TRUE} si preguntamos si tiene m치s de 30 a침os y est치 soltero, o si solo pedimos una de las dos condiciones (쯘st치 soltero y/o tiene m치s de 32 a침os?).

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{edad }\OperatorTok{>}\StringTok{ }\DecValTok{32} \OperatorTok{|}\StringTok{ }\NormalTok{soltero }\CommentTok{# nos sirve con que alguna se cumpla}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] TRUE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{edad }\OperatorTok{>}\StringTok{ }\DecValTok{32} \OperatorTok{&}\StringTok{ }\NormalTok{soltero }\CommentTok{# deben cumplirse ambas}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] FALSE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{edad }\OperatorTok{>}\StringTok{ }\DecValTok{30} \OperatorTok{&}\StringTok{ }\NormalTok{soltero }\CommentTok{# deben cumplirse ambas}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] TRUE
\end{verbatim}

\hypertarget{fechas}{%
\section{Variables de tipo fecha}\label{fechas}}

\begin{itemize}
\tightlist
\item
  {[}X{]} Variables num칠ricas (individuales)
\item
  {[}X{]} Variables de caracteres
\item
  {[}X{]} Variables l칩gicas
\item
  {[}X{]} Variables de tipo fecha
\end{itemize}

Por 칰ltimo, vamos a ver un tipo de datos muy especial: los \textbf{datos de tipo fecha}. Una fecha podr칤a ser a priori una simple cadena de texto \texttt{"2021-04-21"} pero podemos usar la funci칩n \texttt{as.Date()} para que \texttt{R} entienda que esa cadena de texto representa un instante temporal. F칤jate la diferencia entre una fecha en texto y una fecha con \texttt{as.Date()}.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Cadena de texto}
\NormalTok{fecha_char <-}\StringTok{ "2021-04-21"}
\NormalTok{fecha_char }\OperatorTok{+}\StringTok{ }\DecValTok{1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in fecha_char + 1: argumento no-num칠rico para operador binario
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Fecha, mostrada como un texto pero guardada internamente como un n칰mero}
\NormalTok{fecha_date <-}\StringTok{ }\KeywordTok{as.Date}\NormalTok{(fecha_char, }\DataTypeTok{format =} \StringTok{"%Y-%m-%d"}\NormalTok{)}
\NormalTok{fecha_date }\OperatorTok{+}\StringTok{ }\DecValTok{1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "2021-04-22"
\end{verbatim}

En el momento en que convertimos la cadena de texto a fecha, aunque se visualice como un texto, internamente es un n칰mero, por lo que podemos restar fechas (d칤as entre ambas), \textbf{podemos sumar n칰meros a fechas (fecha d칤as despu칠s)}, etc. Como ya hemos dicho, \textbf{las fechas y momentos temporales no ser치n meras cadenas de caracter sino que tienen clases especiales asociadas}. Las fechas ser치n guardadas internamente como el \textbf{n칰mero de d칤as transcurridos desde el 1 de enero de 1970}, y las horas como \textbf{n칰mero de segundos desde el 1 de enero de 1970} (para la clase \texttt{POSIXct}) o una lista de segundos, minutos y horas (para la clase \texttt{POSIXlt}).

쮺칩mo \textbf{obtener autom치ticamente la fecha de hoy}? La funci칩n \texttt{Sys.Date()} nos devuelve directamente la fecha y hora en el momento de la ejecuci칩n de la orden.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fecha <-}\StringTok{ }\KeywordTok{Sys.Date}\NormalTok{()}
\NormalTok{fecha}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "2021-12-27"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fecha }\OperatorTok{-}\StringTok{ }\DecValTok{7} \CommentTok{# una semana antes}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "2021-12-20"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{(fecha) }\CommentTok{# de clase fecha}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Date"
\end{verbatim}

Para \textbf{convertir una cadena de texto a fecha}, basta usar la funci칩n \texttt{as.Date()}, pas치ndole como argumento la fecha en formato \texttt{"yyyy-mm-dd"} por defecto.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{as.Date}\NormalTok{(}\StringTok{"2021-03-10"}\NormalTok{) }\CommentTok{# formato por defecto}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "2021-03-10"
\end{verbatim}

Si \textbf{introducimos otro tipo de formato}, debemos especific치rselo en un segundo argumento, para \texttt{R} sepa el formato de fecha que le estamos pasando

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{as.Date}\NormalTok{(}\StringTok{"10-03-2020"}\NormalTok{, }\StringTok{"%d-%m-%Y"}\NormalTok{) }\CommentTok{# con d칤a-mes-a침o (4 cifras)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "2020-03-10"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{as.Date}\NormalTok{(}\StringTok{"10-03-20"}\NormalTok{, }\StringTok{"%d-%m-%y"}\NormalTok{)  }\CommentTok{# con d칤a-mes-a침o (2 cifras)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "2020-03-10"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{as.Date}\NormalTok{(}\StringTok{"03-10-2020"}\NormalTok{, }\StringTok{"%m-%d-%Y"}\NormalTok{) }\CommentTok{# con mes-d칤a-a침o (4 cifras)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "2020-03-10"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{as.Date}\NormalTok{(}\StringTok{"Octubre 21, 1995 21:24"}\NormalTok{, }\StringTok{"%B %d, %Y %H:%M"}\NormalTok{) }\CommentTok{# fecha escrita}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] NA
\end{verbatim}

~

\textbf{\textcolor{#dc3545}{ERROR: sin pasar a fecha no se puede operar}}

Si tenemos una fecha como caracter, nunca podremos hacer operaciones (por ejemplo, restarle una unidad temporal, en este caso un d칤a).

\begin{Shaded}
\begin{Highlighting}[]
\StringTok{"2021-03-10"} \OperatorTok{-}\StringTok{ }\DecValTok{1} \CommentTok{# error}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in "2021-03-10" - 1: argumento no-num칠rico para operador binario
\end{verbatim}

F칤jate la diferencia cuando lo convertimos en fecha

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fecha <-}\StringTok{ }\KeywordTok{as.Date}\NormalTok{(}\StringTok{"2021-03-10"}\NormalTok{) }\OperatorTok{-}\StringTok{ }\DecValTok{1} \CommentTok{# d칤a previo}
\NormalTok{fecha}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "2021-03-09"
\end{verbatim}

~

Dentro del entorno del paquete \texttt{\{lubridate\}} tenemos bastantes funciones 칰tiles para trabajar con fechas como las siguientes

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{install.packages}\NormalTok{(}\StringTok{"lubridate"}\NormalTok{) }\CommentTok{# solo la primera vez}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(lubridate)}
\KeywordTok{ymd_hms}\NormalTok{(}\StringTok{"2017-11-28T14:02:00"}\NormalTok{) }\CommentTok{# convertir a fecha una cadena a침o-mes-d칤a + hora}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "2017-11-28 14:02:00 UTC"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{ydm_hms}\NormalTok{(}\StringTok{"2017-22-12 10:00:00"}\NormalTok{) }\CommentTok{# convertir a fecha una cadena a침o-d칤a-mes + hora}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "2017-12-22 10:00:00 UTC"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{dmy_hms}\NormalTok{(}\StringTok{"1 Jan 2017 23:59:59"}\NormalTok{) }\CommentTok{# convertir a fecha una cadena textual de fecha + hora}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "2017-01-01 23:59:59 UTC"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{mdy}\NormalTok{(}\StringTok{"July 4th, 2000"}\NormalTok{) }\CommentTok{# convertir a fecha una cadena textual de fecha}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "2000-07-04"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{ymd}\NormalTok{(}\DecValTok{20170131}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "2017-01-31"
\end{verbatim}

Adem치s el paquete nos proporciona \textbf{herramientas para extraer la fecha y hora actuales} con las funciones \texttt{today()} y \texttt{now()}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{today}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "2021-12-27"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{now}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "2021-12-27 00:30:34 CET"
\end{verbatim}

Tambi칠n tenemos disponibles en dicho paquete funciones para extraer facilmente algunas variables temporales como el \textbf{d칤a de la semana, el mes o el cuatrimestre}, con las funciones \texttt{year()}, \texttt{months()}, \texttt{day()} o \texttt{wday()} (d칤a de la semana).

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fecha <-}\StringTok{ }\KeywordTok{now}\NormalTok{()}
\KeywordTok{year}\NormalTok{(fecha)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 2021
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{month}\NormalTok{(fecha)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 12
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{day}\NormalTok{(fecha)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 27
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{wday}\NormalTok{(fecha, }\DataTypeTok{week_start =} \DecValTok{1}\NormalTok{) }\CommentTok{# D칤a de la semana (empezando por el lunes)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{hour}\NormalTok{(fecha)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{minute}\NormalTok{(fecha)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 30
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{second}\NormalTok{(fecha)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 34.42929
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{week}\NormalTok{(fecha) }\CommentTok{# N칰mero de semana (del a침o)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 52
\end{verbatim}

Al igual que podemos realizar operaciones aritm칠ticas sencillas con las fechas, tambi칠n podemos \textbf{realizar comparaciones}, por ejemplo, si el d칤a actual es menor o mayor que otra fecha dada.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fecha_actual <-}\StringTok{ }\KeywordTok{now}\NormalTok{()}
\NormalTok{fecha_actual }\OperatorTok{>}\StringTok{ }\KeywordTok{ymd}\NormalTok{(}\DecValTok{20170131}\NormalTok{) }\CommentTok{# Actual vs 2017-01-31}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] TRUE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fecha_actual }\OperatorTok{>}\StringTok{ }\KeywordTok{ymd}\NormalTok{(}\DecValTok{21000131}\NormalTok{) }\CommentTok{# Actual vs 2100-01-31}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] FALSE
\end{verbatim}

~

\hypertarget{consejos-2}{%
\section{Consejos}\label{consejos-2}}

\textbf{\textcolor{#20935E}{CONSEJOS}}

~

\textbf{\textcolor{#20935E}{Recuperar un comando y autocompletar}}

Si haces click con el rat칩n en la consola y pulsas la flecha 춺arriba췉 del teclado, te ir치 apareciendo todo el \textbf{historial de 칩rdenes ejecutadas}. Es una manera de ahorrar tiempo para ejecutar 칩rdenes similares a las ya ejecutadas. Si empiezas a escribir el nombre de una variable pero no te acuerdas exactamente de su nombre, pulsando \textbf{tabulador} te \textbf{autocompletar치} solo.

~

\textbf{\textcolor{#20935E}{Convertir tipos de datos}}

A veces la lectura de variables num칠ricas de nuestros archivos puede hacer que un n칰mero, por ejemplo \texttt{1}, sea le칤do como la cadena de texto \texttt{"1"}, con la que no podemos operar como un n칰mero. Las funciones \texttt{as.numeric()}, \texttt{as.character()} y \texttt{as.logical()} nos permiten convertir una variable en tipo num칠rico, caracter o l칩gico, respectivamente.

\begin{Shaded}
\begin{Highlighting}[]
\StringTok{"1"} \OperatorTok{+}\StringTok{ }\DecValTok{1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in "1" + 1: argumento no-num칠rico para operador binario
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{as.numeric}\NormalTok{(}\StringTok{"1"}\NormalTok{) }\OperatorTok{+}\StringTok{ }\DecValTok{1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 2
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{as.character}\NormalTok{(}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "1"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{as.logical}\NormalTok{(}\KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] FALSE  TRUE
\end{verbatim}

~

\hypertarget{ejercicios-1}{%
\section{游닇 Ejercicios}\label{ejercicios-1}}

(haz click en las flechas para ver soluciones)

游닇Ejercicio 1: define una variable que guarde tu edad, otra con tu nombre, otra respondiendo a la pregunta 춺쯦engo hermanos?췉 y otra con la fecha de tu nacimiento.

\begin{itemize}
\tightlist
\item
  Soluci칩n:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{edad <-}\StringTok{ }\DecValTok{32} \CommentTok{# tipo numeric}
\NormalTok{nombre <-}\StringTok{ "Javier"} \CommentTok{# tipo caracter}
\NormalTok{hermanos <-}\StringTok{ }\OtherTok{TRUE} \CommentTok{# tipo hermanos}
\NormalTok{fecha_nacimiento <-}\StringTok{ }\KeywordTok{as.Date}\NormalTok{(}\StringTok{"1989-09-10"}\NormalTok{) }\CommentTok{# tipo fecha}
\end{Highlighting}
\end{Shaded}

~

游닇Ejercicio 2: define otra variable con tus apellidos y junta las variables \texttt{nombre} y \texttt{apellidos} en una sola variable \texttt{nombre\_completo}.

\begin{itemize}
\tightlist
\item
  Soluci칩n:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Apellidos}
\NormalTok{apellidos <-}\StringTok{ "츼lvarez Li칠bana"}

\CommentTok{# Pegamos}
\NormalTok{nombre_completo <-}\StringTok{ }\KeywordTok{glue}\NormalTok{(}\StringTok{"\{nombre\} \{apellidos\}"}\NormalTok{)}
\NormalTok{nombre_completo}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Javier 츼lvarez Li칠bana
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Otra forma}
\NormalTok{nombre_completo <-}\StringTok{ }\KeywordTok{paste}\NormalTok{(nombre, apellidos)}
\NormalTok{nombre_completo}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Javier 츼lvarez Li칠bana"
\end{verbatim}

~

游닇Ejercicio 3: construye una frase que diga 춺Hola, me llamo \ldots{} y tengo \ldots{} a침os. Nac칤 el \ldots{} de \ldots{} de \ldots{}췉 (con el nombre completo).

\begin{itemize}
\tightlist
\item
  Soluci칩n:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dia_nacimiento <-}\StringTok{ }\KeywordTok{day}\NormalTok{(fecha_nacimiento)}
\NormalTok{mes_nacimiento <-}\StringTok{ }\KeywordTok{month}\NormalTok{(fecha_nacimiento)}
\NormalTok{a_nacimiento <-}\StringTok{ }\KeywordTok{year}\NormalTok{(fecha_nacimiento)}

\KeywordTok{glue}\NormalTok{(}\StringTok{"Hola, me llamo \{nombre_completo\} y tengo \{edad\} a침os. Nac칤 el \{dia_nacimiento\} del \{mes_nacimiento\} de \{a_nacimiento\}"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Hola, me llamo Javier 츼lvarez Li칠bana y tengo 32 a침os. Nac칤 el 10 del 9 de 1989
\end{verbatim}

~

游닇Ejercicio 4: calcula los d칤as que han pasado desde la fecha de tu nacimiento

\begin{itemize}
\tightlist
\item
  Soluci칩n:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{days}\NormalTok{(}\KeywordTok{today}\NormalTok{() }\OperatorTok{-}\StringTok{ }\NormalTok{fecha_nacimiento)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "11796d 0H 0M 0S"
\end{verbatim}

~

游닇Ejercicio 5: obt칠n una variable l칩gica que nos diga si se cumplen (todas) las condiciones i) menor de 30 a침os; ii) con hermanos; iii) nacido en 1990 o posterior.

\begin{itemize}
\tightlist
\item
  Soluci칩n:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Se tienen que cumplir todas}
\NormalTok{edad }\OperatorTok{<}\StringTok{ }\DecValTok{30} \OperatorTok{&}\StringTok{ }\NormalTok{fecha_nacimiento }\OperatorTok{>=}\StringTok{ }\KeywordTok{as.Date}\NormalTok{(}\StringTok{"1990-01-01"}\NormalTok{) }\OperatorTok{&}\StringTok{ }\NormalTok{hermanos}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] FALSE
\end{verbatim}

~

游닇Ejercicio 6: obt칠n una variable l칩gica que nos diga si se cumplen (al menos) alguna de las condiciones i) menor de 30 a침os; ii) con hermanos; iii) nacido en 1990 o posterior.

\begin{itemize}
\tightlist
\item
  Soluci칩n:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Se tienen que cumplir todas}
\NormalTok{edad }\OperatorTok{<}\StringTok{ }\DecValTok{30} \OperatorTok{|}\StringTok{ }\NormalTok{fecha_nacimiento }\OperatorTok{>=}\StringTok{ }\KeywordTok{as.Date}\NormalTok{(}\StringTok{"1990-01-01"}\NormalTok{) }\OperatorTok{|}\StringTok{ }\NormalTok{hermanos}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] TRUE
\end{verbatim}

~

游닇Ejercicio 7: calcula la fecha 11 d칤as m치s tarde a tu fecha de nacimiento. Obt칠n la semana del a침o de dicha fecha y el d칤a de la semana.

\begin{itemize}
\tightlist
\item
  Soluci칩n:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Podemos sumar porque es fecha}
\NormalTok{fecha_post <-}\StringTok{ }\NormalTok{fecha_nacimiento }\OperatorTok{+}\StringTok{ }\DecValTok{11}
\NormalTok{fecha_post}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "1989-09-21"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Semana del a침o}
\KeywordTok{week}\NormalTok{(fecha_post)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 38
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# D칤a de la semana (versi칩n americana, empiezan el domingo)}
\KeywordTok{wday}\NormalTok{(fecha_post)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 5
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# D칤a de la semana (versi칩n espa침ola)}
\KeywordTok{wday}\NormalTok{(fecha_post, }\DataTypeTok{week_start =} \DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 4
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# D칤a de la semana en texto}
\KeywordTok{weekdays}\NormalTok{(fecha_post)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Thursday"
\end{verbatim}

~

游닇Ejercicio 8: define dos n칰meros cualesquiera en variable \texttt{a} y \texttt{b}. Calcula su suma y determina cual es mayor.

\begin{itemize}
\tightlist
\item
  Soluci칩n:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a <-}\StringTok{ }\DecValTok{-5}
\NormalTok{b <-}\StringTok{ }\DecValTok{7}

\CommentTok{# Suma}
\NormalTok{c <-}\StringTok{ }\NormalTok{a }\OperatorTok{+}\StringTok{ }\NormalTok{b}
\NormalTok{c}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 2
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Comparaciones}
\NormalTok{a }\OperatorTok{==}\StringTok{ }\NormalTok{b }\CommentTok{# 쯔 = b?}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] FALSE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{<}\StringTok{ }\NormalTok{b }\CommentTok{# 쯔 < b?}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] TRUE
\end{verbatim}

~

\bibliography{book.bib,packages.bib}

\end{document}
